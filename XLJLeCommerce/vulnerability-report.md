##Vulnerability 3
#Exposure
[vulnerability 3] on our site, we have a policy if the user registed more than a certain time(we are using one day just for testing purpose, normally one year), they become VIP and 

can view VIP products. Julie created an account on Feb 28th , and we tested this account on March 1st, since it is more than one day it should be allowed to access to VIP page, however,

it got denied and we did debuging found out the day is -28,which is very weird.

[this vulnerability] make our site unstable and user can be denied unappropriately.

Repair
 MinRegisterTimeRequirement.cs contained the vulnerability. We were able to fix the first with the following adjustment(s):

[specific fixes here]


![img](vul3.PNG)


Above is the correct one, we use  " DateTime.Today.DayOfYear "  instead of  "DateTime.Today.Day".



##Vulnerability 4

#Exposure
[vulnerability 4] User can view our products without login , but when they trying to click cart, page went broken.Because there is no user logged in,and we can capture the userID(email), so the cart associated with user is null,that is why it was broken page.

[this vulnerability] cause our site damage, not function well.

Repair
CartController.cs contained the vulnerability. We were able to fix the first with the following adjustment(s):

[specific fixes here]

![vul4](vul4.PNG)

we put if else statement around the query, that way if user doesn't log in it redirect to register page(assume does not have an account).